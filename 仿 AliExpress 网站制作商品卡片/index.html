<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>AliExpress</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.9.1/underscore-min.js"></script>

    <script src="./datalist.js"></script>
    <link rel="stylesheet" href="style.css">
    <style>

    </style>
</head>

<body>
    <div class="container">
        <!-- 网页头部 -->
        <div class="head"></div>
        <!-- 网页内容 -->
        <div class="content"></div>
    </div>

    <script>
        for (let obj of warehouse) {
            let newPrice = (obj.price * (1 - obj.discount)).toFixed(2);
            console.log(newPrice);
            $('.content').append(`<div class="card">
                                  <div class="card-front">
                                    <div class="display"><img src=${obj.src.slice(5, -2)}></div>
                                    <div class="title">${obj.name}</div>
                                    <div class="price-discount">
                                        <div class="price" style="font-size:17px">
                                        <i>$${newPrice}  <s style="font-size:10px"> $${obj.price}</s></i>
                                        </div>
                                        <div class="discount">${(obj.discount * 100).toFixed(0)}%</div>
                                    </div>
                                  </div>
                                  <div class="card-back">
                                    <div class="like click"></div>
                                  </div>
                              </div>`);
        }

        $('.card').click(function () {
            $(this).toggleClass('flip');
        })

        $('.like').click(function(e){
            $(this).toggleClass('liked');
            e.stopPropagation();
        })
    </script>
</body>

</html>